<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
        PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

<ui:composition template="WEB-INF/template.xhtml">

    <ui:define name="title">Inicio</ui:define>
    <div class="mt-4">
        <ui:define name="content">

                <h:form>
                    <center>
                        <h:form rendered="#{seguridadBean.renderMensajeAlerta}">
                        <div>
                        <p:outputLabel  value="Â¡ALERTA!" style="color: #{usuarioBean.color}" /></div>

                      <div> <p:outputLabel  value="Tienes #{usuarioBean.productosAgotados} productos por debajo de la cantidad minima de unidades" style="font-max-size: medium;color:#{usuarioBean.color}" /></div>
                        </h:form>
                        <table width="900px">
                        <tr>
                            <td align="center" width="600">

                                <p:graphicImage value="/img/logop.png" class="img-fluid  d-md-block rounded mb-2 shadow"
                                                rendered="#{!seguridadBean.autenticado}"/>




                                <div class="grid">
                                    <div class="col-12 lg:col-6 xl:col-4">
                                        <div class="card">
                                            <p:pieChart model="#{usuarioBean.pieModel}"
                                                        style="width: 60%; height: 300px;"
                                                        rendered="#{seguridadBean.autenticado}"/>

                                        </div>
                                    </div>
                                </div>


                            </td>
                        </tr>


                    </table>

                    <br>
                    </br>


                    <table width="900px" align="center">
                        <tr>
                            <td>

                                <p:outputLabel for="@next" value="Productos :"  rendered="#{seguridadBean.autenticado}"/>
                            </td>
                            <td>
                                <p:selectOneMenu id="lazy" value="#{usuarioBean.nombreProductoSeleccionado}"
                                                 dynamic="true" rendered="#{seguridadBean.autenticado}">
                                    <f:selectItem itemLabel="Seleccione producto" itemValue=""/>
                                    <f:selectItems value="#{usuarioBean.nombresProductos}"/>
                                </p:selectOneMenu>

                            </td>
                            <td>
                                <p:outputLabel for="@next" value="Cantidad :" rendered="#{seguridadBean.autenticado}"/>
                            </td>
                            <td>
                                <p:inputText value="#{usuarioBean.unidadesVendidas}" rendered="#{seguridadBean.autenticado}"/>

                            </td>

                            <td>
                                <p:commandButton type="submit" icon="pi pi-shopping-cart" value="Ingresar Venta" styleClass="ui-button-raised ui-button-secondary"  action="#{usuarioBean.ingresarVenta()}" update="@form" rendered="#{seguridadBean.autenticado}"/>

                            </td>
                        </tr>

                    </table>

                        <p:growl showDetail="true" for="mensajeVenta"/>
                    </center>
                </h:form>







        </ui:define>
    </div>
</ui:composition>

</html>